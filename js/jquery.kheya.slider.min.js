(function($){var slidertimer;var isAnimating=false;var isAnimatingRight=false;var isAnimatingLeft=true;var isTimerOn=true;$.fn.ResizeSlider=function(){kheyaSliderWidth=parseInt(this.parent().css("width"));kheyaSliderHeight=parseInt(kheyaSliderWidth/kheyaSliderRatio);if(kheyaSliderWidth>kheyaSliderMaxWidth){kheyaSliderWidth=kheyaSliderMaxWidth;kheyaSliderHeight=kheyaSliderMaxHeight}this.css({"width":kheyaSliderWidth+"px","height":kheyaSliderHeight+"px"});this.find("div.slider-container").css({"width":kheyaSliderWidth+"px","height":this.css("height")});this.find("div.slider-piece").css({"width":kheyaSliderWidth+"px","height":this.css("height")})};$.fn.KheyaJQSlider=function(options){var frontslide=0;var nextslide=1;function myTimer(){if(isAnimatingLeft)slideAnimateLeft();if(isAnimatingRight)slideAnimateRight()}function slideAnimateLeft(){isAnimating=true;$(imageList[frontslide]).addClass("active-slide");$(navList[frontslide]).addClass("active-nav-item");$(imageList[frontslide]).css({"left":"0px"});$(imageList[nextslide]).css({"left":$(imageList[nextslide]).css("width")});$(imageList[nextslide]).addClass("active-slide");$(imageList[frontslide]).animate({left:"-="+parseInt($(imageList[frontslide]).css("width"))},1000,function(){isAnimating=false;$(imageList[frontslide]).removeClass("active-slide");$(navList[frontslide]).removeClass("active-nav-item");$(navList[nextslide]).addClass("active-nav-item");$(imageList[frontslide]).css({"left":"0px"});frontslide=nextslide;if(frontslide==imageList.length-1){nextslide=0}else if(frontslide==imageList.length){frontslide=0;nextslide=1}else{nextslide=frontslide+1}if(!isTimerOn){slidertimer=window.setInterval(myTimer,settings.SlideDuration);isTimerOn=true}});$(imageList[nextslide]).animate({left:"-="+parseInt($(imageList[nextslide]).css("width"))},1000,function(){})}function slideAnimateRight(){isAnimating=true;$(imageList[frontslide]).addClass("active-slide");$(imageList[frontslide]).css({"left":"0px"});$(imageList[nextslide]).css({"left":-parseInt($(imageList[nextslide]).css("width"))+"px"});$(imageList[nextslide]).addClass("active-slide");$(navList[frontslide]).addClass("active-nav-item");$(imageList[frontslide]).animate({left:"+="+parseInt($(imageList[frontslide]).css("width"))},1000,function(){isAnimating=false;$(imageList[frontslide]).removeClass("active-slide");$(imageList[frontslide]).css({"left":"0px"});$(navList[frontslide]).removeClass("active-nav-item");$(navList[nextslide]).addClass("active-nav-item");frontslide=nextslide;if(frontslide==0){nextslide=imageList.length-1}else if(frontslide==-1){frontslide=imageList.length-1;nextslide=frontslide-1}else{nextslide=frontslide-1}if(!isTimerOn){slidertimer=window.setInterval(myTimer,settings.SlideDuration);isTimerOn=true}});$(imageList[nextslide]).animate({left:"+="+parseInt($(imageList[nextslide]).css("width"))},1000,function(){})}var settings=$.extend({SlideDuration:2000,MaxWidth:"2000px",MaxHeight:"1000px"},options);this.addClass("kheyaslider");var imageList=this.find("div.slider-piece");kheyaSliderParentWidth=parseInt(this.parent().css("width"));kheyaSliderMaxWidth=parseInt(settings.MaxWidth);kheyaSliderMaxHeight=parseInt(settings.MaxHeight);kheyaSliderWidth=parseInt(settings.MaxWidth);kheyaSliderHeight=parseInt(settings.MaxHeight);kheyaSliderRatio=kheyaSliderWidth/kheyaSliderHeight;if(kheyaSliderWidth>kheyaSliderParentWidth){kheyaSliderWidth=kheyaSliderParentWidth;kheyaSliderHeight=parseInt(kheyaSliderWidth/kheyaSliderRatio)}else{kheyaSliderRatio=kheyaSliderWidth/kheyaSliderHeight}this.css({"width":kheyaSliderWidth+"px","height":kheyaSliderHeight+"px"});this.find("div.slider-container").css({"width":kheyaSliderWidth+"px","height":this.css("height")});this.find("div.slider-piece").css({"width":kheyaSliderWidth+"px","height":this.css("height")});$(imageList[0]).addClass("active-slide");this.append("<div class='slider-nav'></div>");for(var i=0;i<imageList.length;i++){this.find(".slider-nav").append("<a class='slider-nav-item' href='#'></a>")}var navList=this.find(".slider-nav .slider-nav-item");$(navList[0]).addClass("active-nav-item");this.find(".slider-nav .slider-nav-item").click(function(){var middle=parseInt(navList.length/2);if(!isAnimating){window.clearInterval(slidertimer);isTimerOn=false;nextslide=navList.index(this);if(nextslide>=middle){isAnimatingRight=true;isAnimatingLeft=false;slideAnimateRight()}else if(nextslide<middle){isAnimatingRight=false;isAnimatingLeft=true;slideAnimateLeft()}}return false});this.append('<i class="nav-prev fa fa-arrow-circle-left" href="#" style="visibility: visible; display: block;"></i>');this.append('<i class="nav-next fa fa-arrow-circle-right" href="#" style="visibility: visible; display: block;"></i>');this.find(".nav-prev").click(function(){if(!isAnimating){window.clearInterval(slidertimer);isTimerOn=false;if(!isAnimatingLeft){isAnimatingRight=false;isAnimatingLeft=true;if(frontslide==imageList.length-1){nextslide=0}else{nextslide=frontslide+1}}slideAnimateLeft()}});this.find(".nav-next").click(function(){if(!isAnimating){window.clearInterval(slidertimer);isTimerOn=false;if(!isAnimatingRight){isAnimatingRight=true;isAnimatingLeft=false;if(frontslide==0){nextslide=imageList.length-1}else{nextslide=frontslide-1}}slideAnimateRight()}});return this.each(function(){slidertimer=window.setInterval(myTimer,settings.SlideDuration);$(document).ready(function(){$(window).resize(function(){$('.kheya-slider').ResizeSlider()})})})}}(jQuery));